{"version":3,"sources":["scripts/misc scripts/debug.js","scripts/misc scripts/point.js","scripts/misc scripts/math.js","scripts/draw.js","scripts/misc scripts/time.js","scripts/misc scripts/dimensions.js","scripts/misc scripts/image.js","scripts/misc scripts/gameObject.js","scripts/misc scripts/velocity.js","scripts/misc scripts/projectile.js","gameobject scripts/laser.js","gameobject scripts/ship.js","gameobject scripts/rock.js","gameobject scripts/mousePointer.js","scripts/inputManager.js","scripts/stateManager.js","scripts/asteroids.js","scripts/main.js","node_modules/parcel/src/builtins/hmr-runtime.js"],"names":["debugEl","document","getElementById","debug","DEBUG","toggleDebug","console","log","style","visibility","display","txt","debug_msg","text","warn","update","id","element","x","undefined","NaN","createElement","appendChild","createTextNode","innerHTML","Point","y","v","dx","dy","math","rad","angleDegrees","Math","PI","deg","angleRadians","mag","sqrt","pow","randomrange","a","b","random","dist","p1","p2","bodyTag","querySelector","canvas","context","getContext","draw","drawImages","darkMode","toggleDarkMode","color","rotateAndDraw","img","p","dim","save","translate","rotate","drawImage","w","h","restore","importImage","imageFilename","gameobject_dimensions","imageElement","src","cssGetter","varName","getComputedStyle","getPropertyValue","colorDark","colorLight","canvasColor","fillBackground","fillStyle","fillRect","width","height","triangle","sl","strokeStyle","lineWidth","beginPath","moveTo","cos","sin","lineTo","closePath","stroke","circle","r","fill","arc","point","error","rock","vertices","forEach","vertex","offset","angle","Time","currentTime","Date","deltaTime","slowRateTimer","tick","previousTime","FPS","Dimensions","new_w","new_h","Image","filename","dimensions","load","loadImage","img_filename","errorMsg","gameobject_p","gameobject_a","GameObject","name","alive","new_p","new_r","new_a","new_dim","Velocity","dv","magnitude","atan2","Projectile","rotation","friction","velocity","dr","rotationAmount","amount","thrust","add","forward","applyFriction","speed","new_v","LASER_SPEED","LASER_LIFE","Laser","radius","timer","time","FIRING_RATE","ACCELERATION_AMOUNT","FRICTION_AMOUNT","Ship","image","brake","dt","accelerate","ROCK_SHIP_BUFFER","ROCK_SPEED","Rock","p_init","v_init","populate_vertecies","offs","jag","push","MousePointer","showPointer","Key","pressed","inputManager","inputKeys","state","Scene","backgroundImage","drawBackground","Resume","Pause","MainMenu","SettingsState","stateManager","currentState","states","Game","ship","lasers","rocks","asteroidBelt","mousePointer","updateLasers","handleInput","wrapObjects","handleLaserDelayTimer","key","i","laserDelayTimer","fire","rotateLeft","rotateRight","wrap","laser","projectile","buffer","length","splice","n","mousePosition","asteroids","setInterval","addEventListener","keyDown","keyUp","onClick","mouseMove","event","toggleVisible","clientX","clientY","updateMousePosition","OVERLAY_ID","OldModule","module","bundle","Module","moduleName","call","hot","data","hotData","_acceptCallbacks","_disposeCallbacks","accept","fn","dispose","checkedAssets","assetsToAccept","parent","isParcelRequire","WebSocket","hostname","location","protocol","ws","onmessage","JSON","parse","type","handled","assets","asset","isNew","didAccept","hmrAcceptCheck","global","parcelRequire","every","generated","js","clear","hmrApply","hmrAcceptRun","reload","close","onclose","removeErrorOverlay","message","stack","overlay","createErrorOverlay","body","remove","stackTrace","innerText","getParents","modules","parents","k","d","dep","Array","isArray","concat","Function","deps","cached","cache","some","cb"],"mappings":"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","file":"main.d8ebb8d6.js","sourceRoot":"..","sourcesContent":["const debugEl = document.getElementById(\"debug\")\n\nconst debug = {\n    DEBUG: false,\n    toggleDebug: function() {\n        this.DEBUG = !this.DEBUG\n        if (this.DEBUG) console.log(\"DEBUG enabled.\")\n        else            console.log(\"DEBUG disabled.\")\n\n        if (this.DEBUG) debugEl.style.visibility = \"visible\"\n        else            debugEl.style.visibility = \"hidden\"\n\n        if (this.DEBUG) this.display(\"Debug:\", \"user feedback\")\n    },\n    log: function(txt, debug_msg=true) {\n        var text = \" \"\n        if (debug_msg) text = \"debug: \"\n        text += txt + \" \"\n        if (this.DEBUG) console.warn(text)\n    },\n    update: function() {\n\n    },\n    display: function(text, id=\"user feedback\") {\n        if (this.DEBUG) {\n            // get element\n            let element = document.getElementById(id)\n\n            // if element doesn't exist, create one\n            let x = typeof(element)\n            if (x == undefined || x == null || x == NaN) {\n                console.warn(\"Creating new element: \", text, id)\n                element = document.createElement(\"h3\")\n                element.appendChild(document.createTextNode(text))\n                document.appendChild(element)\n                return\n            }\n\n            // display text\n            element.innerHTML = text\n        }\n    }\n}\n\nexport default debug","import debug from \"./debug.js\"\n\nclass Point {\n    constructor(x=0, y=0) {\n        this.x = x\n        this.y = y\n    }\n\n    translate(v, debug=false) {\n        if (debug) console.warn(v)\n        this.x += v.dx\n        this.y -= v.dy\n    }\n\n    set(x, y) {\n        this.x = x\n        this.y = y\n    }\n\n    get up()    { return new Point( 0, -1) }\n    get down()  { return new Point( 0,  1) }\n    get right() { return new Point( 1,  0) }\n    get left()  { return new Point(-1,  0) }\n\n    tostring() { return `Point: ${this.x} ${this.y}` }\n}\n\nexport default Point","const math = {\n    rad: function(angleDegrees) { return angleDegrees * Math.PI / 180 },\n    deg: function(angleRadians) { return angleRadians * 180 / Math.PI },\n    mag: function(x, y)         { return Math.sqrt((Math.pow(x, 2)) + (Math.pow(y, 2))) },\n    randomrange: function(a, b) { return a + ((b - a) * Math.random()) },\n    dist: function(p1, p2)      { return this.mag((p2.x - p1.x), (p2.y - p1.y)) }\n}\n\nexport default math","// import\nimport  math    from \"./misc scripts/math.js\"\nimport  debug   from \"./misc scripts/debug.js\";\nconst   bodyTag = document.querySelector(\"body\")\nconst   canvas  = document.querySelector(\"canvas\")\nconst   context = canvas.getContext(\"2d\")\n\n// draw module\nvar draw = {\n\ndrawImages: false,\ndarkMode: true,\n// darkMode: (\"black\" == this.cssGetter(bodyTag, \"--color\")),\n\ntoggleDarkMode: function() {\n    this.darkMode = !this.darkMode\n    debug.log(`Dark mode set to ${this.darkMode}`)\n    bodyTag.style.color = this.color\n},\n\nrotateAndDraw: function(img, p, dim, a) {\n    console.log(\"Rotate and draw() called\")\n\n    // use context save() and restore() to make sure only image is being rotated\n    context.save()\n\n    // translate & rotate\n    context.translate(p.x, p.y)\n    context.rotate(a)\n    \n    // draw image with image center on specified x and y coordinates\n    context.drawImage(img, p.x, p.y, dim.w, dim.h)\n    \n    // restore canvas \n    context.translate(-p.x, -p.y)\n    context.rotate(-a)\n    context.restore()\n},\n\nimportImage: function(imageFilename, id, gameobject_dimensions) {\n    let imageElement = document.createElement(\"img\")\n    imageElement.src = imageFilename\n    imageElement.id = id\n    canvas.appendChild(imageElement)\n    return imageElement\n},\n\ncssGetter: function(element, varName) {\n    return getComputedStyle(element).getPropertyValue(varName)\n},\n\ncolorDark: \"white\",\ncolorLight: \"black\",\nget color()       { return this.darkMode ? this.colorDark : this.colorLight },\nget canvasColor() { return this.darkMode ? this.colorLight : this.colorDark },\n\nfillBackground: function() {\n    context.fillStyle = this.canvasColor\n    context.fillRect(0, 0, canvas.width, canvas.height)\n},\n\ntriangle: function(\n    p,  // point\n    sl, // side length\n    a   // angle (radians)\n) {\n\n    a += math.rad(90)\n    // p = new Point(canvas.width / 2, canvas.height / 2)\n\n    // draw a triangular ship\n    context.strokeStyle = this.color\n    context.lineWidth = sl / 5\n    context.beginPath()\n    context.moveTo(\n        // (jump to) nose of the ship\n        p.x + (4 / 3) *sl * Math.cos(a),\n        p.y - (4 / 3) *sl * Math.sin(a)\n    )\n    context.lineTo(\n        // (draw to) rear left of the ship\n        p.x - sl * ((2 / 3) * Math.cos(a) + Math.sin(a)),\n        p.y + sl * ((2 / 3) * Math.sin(a) - Math.cos(a))\n    )\n    context.lineTo(\n        // (draw to) rear right of the ship\n        p.x - sl * ((2 / 3) * Math.cos(a) - Math.sin(a)),\n        p.y + sl * ((2 / 3) * Math.sin(a) + Math.cos(a))\n    )\n    context.closePath()\n    context.stroke()\n},\n\ncircle: function(p, r, fill=false) {\n    context.strokeStyle = this.color\n    context.fillStyle   = this.color\n    context.lineWidth   = r\n    context.beginPath()\n    context.arc(p.x, p.y, r, 0, math.rad(360), false)\n    context.closePath()\n    context.stroke()\n    context.fill()\n},\n\npoint: function(x, y) {\n    if (x === y === NaN) {\n        console.error(\"In draw.point(): invalid input for 'p'\")\n        return\n    }\n    context.strokeStyle = \"black\"\n    context.fillRect(x, y, 1, 1)\n},\n\nrock: function(x, y, r, a, vertices, color=\"slategrey\") {\n    \n    // update draw info to draw rock\n    context.strokeStyle = \"slategrey\"\n    context.lineWidth   = 1.5\n\n    // draw a path\n    context.beginPath();\n\n    context.moveTo(\n        x + r * Math.cos(math.rad(a)),\n        y + r * Math.sin(math.rad(a))\n    )\n\n    var r = 75\n    vertices.forEach((vertex) => {\n        context.lineTo(\n            x + vertex.offset * Math.cos(math.rad(vertex.angle + a)),\n            y + vertex.offset * Math.sin(math.rad(vertex.angle + a))\n        )\n    })\n\n    // tell canvas to paint the paths\n    context.closePath();\n    context.stroke();\n}\n\n}\n\n// export draw object module\nexport default draw","import debug from \"./debug.js\"\nimport FPS from \"../main.js\"\n\nconst Time = {\n    currentTime: new Date(),\n    deltaTime: 0.0,\n    slowRateTimer: 0.0,\n\n    tick() {\n        // update currentTime and deltaTime\n        var previousTime    = this.currentTime\n        this.currentTime    = new Date()\n        this.deltaTime      = (this.currentTime - previousTime) / 1000\n\n        // handle slow rate timer\n        if (this.slowRateTimer <= 0.0) this.slowRateTimer = .1\n        else this.slowRateTimer -= this.deltaTime\n\n        // debug\n        if (this.slowRateTimer == .1)\n            debug.display(\"fps = \" + FPS*FPS*this.deltaTime + \" s\", \"deltaTime\")\n    }\n}\n\nexport default Time","class Dimensions {\n    constructor(w=0, h=0) {\n        this.w = w\n        this.h = h\n    }\n\n    get width()         { return this.w     }\n    set width(new_w)    { this.w = new_w    }\n\n    get height()        { return this.h     }\n    set height(new_h)   { this.h = new_h    }\n}\n\nexport default Dimensions","import draw         from \"../draw.js\"\nimport Dimensions   from \"./dimensions.js\"\nimport Point        from \"./point.js\"\nconst context = document.querySelector(\"canvas\").getContext(\"2d\")\n\n\nclass Image {\n    constructor(\n        filename=\"\",\n        id=\"unspecified image\",\n        dimensions=new Dimensions(0, 0),\n        load=false) {\n        \n        // empty variables to hold information upon loadImage\n        this.filename = filename\n        this.imageElement = undefined\n        this.dim = new Dimensions(0,0)\n\n        // load if constructor arguments are specified\n        if (filename == \"\") return\n        if (load) this.loadImage(filename, id, dimensions)\n    }\n\n    loadImage(img_filename, id, dimensions) {\n        // handle invalid filename\n        if (this.filename == \"\") {\n            var errorMsg = \"Error: calling Image.loadImage with invalid filename\"\n            console.error(errorMsg)\n            return\n        }\n\n        // initialize loading info\n        console.log(`Loading image '${this.filename}'...`)\n        this.filename   = img_filename\n        this.dim        = dimensions\n\n        // use draw.importImage to place image on the screen and save the img element location\n        this.imageElement = draw.importImage(this.filename, id, this.dim)\n    }\n\n    display() { context.drawImage(this.imageElement, 0, 0) }\n\n    displayAtPoint(gameobject_p=new Point(0,0), gameobject_a=0) {\n        this.p = gameobject_p\n        this.a = gameobject_a\n        draw.rotateAndDraw(\n            this.imageElement,\n            this.p,\n            this.dim, \n            this.a\n        )\n    }\n}\n\nexport default Image","// import\nimport Point        from \"./point.js\"\nimport Dimensions   from \"./dimensions.js\"\n\n/************\n * @abstract\n ************/\nclass GameObject {\n    constructor(x=0, y=0, w=0, h=0, r=0, a=0) {\n        this.name   = \"unknown GameObject\"\n        this.p      = new Point(x, y)\n        this.dim    = new Dimensions(w, h)\n        this.r      = r\n        this.a      = a\n        this.alive  = true\n    }\n\n    // update (advance)\n    update() {\n        this.display()\n    }\n\n    // display (draw)\n    display() {\n\n    }\n\n    // fixed update? also implement tick/render if so\n\n    // properties (getters/setters)\n    get point()             { return this.p         }\n    set point(new_p)        { this.p = new_p        }\n\n    get radius()            { return this.r         }\n    set radius(new_r)       { this.r = new_r        }\n\n    get angleRadians()      { return this.a         }\n    set angleRadians(new_a) { this.a = new_a        }\n\n    get dimensions()        { return this.dim       }\n    set dimensions(new_dim) { this.dim = new_dim    }\n}\n\nexport default GameObject","import math from \"./math.js\"\n\nclass Velocity {\n    constructor(dx=0, dy=0) {\n        this.dx = dx, \n        this.dy = dy\n    }\n\n    add(dv) {\n        this.dx += dv.dx\n        this.dy += dv.dy\n    }\n\n    forward(angle, magnitude=1) {\n        if (angle == NaN) angle = Math.atan2(this.dx, this.dy)\n        angle += math.rad(90)\n        return new Velocity(\n            magnitude * Math.cos(angle),\n            magnitude * Math.sin(angle)\n        )\n    }\n\n    get speed() { return math.mag(this.dx, this.dy) }\n    set speed(magnitude) {\n        var angle = Math.atan2(this.dx, this.dy)\n        this.dx = magnitude * Math.cos(angle)\n        this.dy = magnitude * Math.sin(angle)\n    }\n\n    tostring() { return `(${this.dx}, ${this.dy})` }\n}\n\nexport default Velocity","import debug        from \"./debug.js\"\nimport GameObject   from \"./gameObject.js\"\nimport Velocity     from \"./velocity.js\"\n\nclass Projectile extends GameObject {\n    constructor() {\n        super()\n        this.name       = \"unknown Projectile object\"\n        this.v          = new Velocity(0, 0)\n        this.rotation   = 0\n        this.friction   = true\n    }\n\n    // properties\n    get velocity()      { return this.v }\n    set velocity(new_v) { this.v = new_v }\n\n    // methods\n    update() {\n        super.update()\n        this.point.translate(this.velocity)\n    }\n\n    rotate(dr)      { this.rotation -= dr               }\n    rotateRight()   { this.rotate(this.rotationAmount)  }\n    rotateLeft()    { this.rotate(-this.rotationAmount) }\n    rotationAmount = .1\n\n    accelerate(angle, amount, thrust) {\n        if (thrust)\n            this.velocity.add(this.velocity.forward(angle, amount))\n        else\n            this.applyFriction(amount / 10)\n    }\n\n    applyFriction(amount) {\n        if (this.friction) {\n            if (this.velocity.speed > .1) {\n                this.velocity.dx -= amount * this.velocity.dx\n                this.velocity.dy -= amount * this.velocity.dy\n            }\n            else this.velocity.speed = 0\n        }\n    }\n}\n\nexport default Projectile","import draw from \"../scripts/draw.js\"\nimport debug from \"../scripts/misc scripts/debug.js\"\nimport math from \"../scripts/misc scripts/math.js\"\nimport time from \"../scripts/misc scripts/time.js\"\nimport Projectile from \"../scripts/misc scripts/projectile.js\"\nimport Velocity from \"../scripts/misc scripts/velocity.js\"\n\nconst LASER_SPEED = 7  // laser speed in pixels/second\nconst LASER_LIFE  = .5 // laser expiration time in seconds\n\nclass Laser extends Projectile {\n    constructor(x, y, dx, dy, a, r) {\n        console.log(\"Laser fired\")\n        super()\n        this.name       = \"laser\"\n        this.angle      = a + math.rad(90)\n        this.radius     = r / 10\n        this.timer      = LASER_LIFE\n        \n        // 'fire'\n        console.log(a)\n        this.point.x = x + (r * Math.cos(this.angle))\n        this.point.y = y - (r * Math.sin(this.angle))\n        this.v.dx = dx + (LASER_SPEED * Math.cos(this.angle))\n        this.v.dy = dy + (LASER_SPEED * Math.sin(this.angle))\n    }\n\n    update() {\n        this.display()\n        this.p.translate(this.v)\n        this.timer -= time.deltaTime\n        if (this.timer <= 0) this.alive = false\n    }\n\n    display() {\n        draw.circle(this.p, this.r, true)\n    }\n}\n\nexport const FIRING_RATE = 15\nexport default Laser","// import\nimport debug        from \"../scripts/misc scripts/debug.js\"\nimport time         from \"../scripts/misc scripts/time.js\"\nimport draw         from \"../scripts/draw.js\"\nimport Image        from \"../scripts/misc scripts/image.js\"\nimport Projectile   from \"../scripts/misc scripts/projectile.js\"\nimport Point        from \"../scripts/misc scripts/point.js\"\nimport Dimensions   from \"../scripts/misc scripts/dimensions.js\"\nimport Laser        from \"./laser.js\"\nimport Velocity     from \"../scripts/misc scripts/velocity.js\"\nimport math         from \"../scripts/misc scripts/math.js\"\nconst canvas = document.querySelector(\"canvas\")\n\n// define\nconst ACCELERATION_AMOUNT   = 20 // ship acceleration amount in pixels/s/s\nconst FRICTION_AMOUNT       = 5 // brake deceleration amount\n\n// ship module\nclass Ship extends Projectile {\n    constructor() {\n        console.log(\"Ship constructor called.\")\n        \n        // set GameObject components\n        super()\n        this.name       = \"Ship\"\n        this.point      = new Point(canvas.width/2, canvas.height/2)\n        this.velocity   = new Velocity(0, 0)\n        this.r          = 15\n        this.dimensions = new Dimensions(1, 1)\n        this.a          = 10\n        this.image      = new Image(\"../assets/shipImage.png\", \"ship image\", this.dim, true)\n\n        // set ship components\n        this.thrust     = false\n        this.brake      = false\n    }\n\n    // methods\n    update() {\n        super.update()\n        var dt = time.deltaTime\n        this.accelerate(this.rotation, dt * ACCELERATION_AMOUNT, this.thrust)\n        if (this.brake) {\n            this.applyFriction(dt * FRICTION_AMOUNT)\n            debug.display(\"Braking...\")\n        }\n    }\n    \n    display() {\n        super.display()\n        if (!draw.drawImages)\n            draw.triangle(this.point, this.r, this.rotation)\n    }\n\n    fire() {\n        return new Laser(this.p.x, this.p.y, this.v.dx, this.v.dy, this.rotation, this.r)\n    }\n}\n\n// export module\nexport default Ship","import Projectile   from \"../scripts/misc scripts/projectile.js\"\nimport draw         from \"../scripts/draw.js\"\nimport Point        from \"../scripts/misc scripts/point.js\";\nimport math         from \"../scripts/misc scripts/math.js\";\nimport debug from \"../scripts/misc scripts/debug.js\";\nimport Velocity from \"../scripts/misc scripts/velocity.js\";\nimport Time from \"../scripts/misc scripts/time.js\";\nimport FPS from \"../scripts/main.js\";\nconst canvas = document.querySelector(\"canvas\")\nconst context = canvas.getContext(\"2d\")\n\nconst ROCK_SHIP_BUFFER = canvas.height - 50\nconst ROCK_SPEED = 60 // rock average speed in pixels / second\n\nclass Rock extends Projectile {\n    constructor(p=-1) {\n        super()\n        this.name   = \"unknown asteroid\"\n        this.r      = math.randomrange(30, 50)\n        this.a      = math.randomrange(0, math.rad(360))\n        this.dr     = math.randomrange(-1, 1)\n        this.p_init(p)\n        this.v_init()\n        this.vertices = this.populate_vertecies()\n    }\n\n    p_init(p) {\n        if (p != -1) {\n            this.p = new Point(p.x, p.y)\n        }\n\n        do {\n            this.p.x = Math.random() * canvas.width\n            this.p.y = Math.random() * canvas.height\n        } while (math.dist(this.p, new Point(canvas.width/2, canvas.height/2) < ROCK_SHIP_BUFFER))\n    }\n\n    v_init() {\n        this.v = new Velocity(\n            ROCK_SPEED * math.randomrange(-1, 1) / FPS,\n            ROCK_SPEED * math.randomrange(-1, 1) / FPS\n        )\n    }\n\n    populate_vertecies() {\n        var vertices = []\n\n        var offs = this.r\n        var jag = .3\n        for (var a = 0; a < 360; a += 45) {\n            offs = this.r * math.randomrange(1 - jag, 1 + jag)\n            vertices.push({angle: a, offset: offs})\n        }\n        console.log(vertices)\n        \n\n        return vertices\n    }\n\n    advance() {\n        super.advance()\n        console.log(\"x\")\n        this.a += this.dr\n    }\n\n    display() {\n        draw.rock(\n            this.p.x,\n            this.p.y,\n            this.r,\n            this.a,\n            this.vertices\n        )\n    }\n}\n\nexport default Rock","import draw from \"../scripts/draw.js\"\nimport GameObject   from \"../scripts/misc scripts/gameObject.js\"\nimport math         from \"../scripts/misc scripts/math.js\"\nconst context = document.querySelector(\"canvas\").getContext(\"2d\")\n\nclass MousePointer extends (GameObject) {\n    constructor() {\n        super(100, 100, 0, 0, 2.5, 0)\n        this.showPointer = false\n    }\n\n    display() {\n        // if (true) {\n        //     draw.point(this.p.x, this.p.y)\n            // if (this.showPointer) {\n            //     context.strokeStyle = \"black\"\n            //     context.fillStyle   = \"red\"\n            //     context.lineWidth   = this.radius\n            //     context.beginPath()\n            //     context.arc(this.point.x, this.point.y, this.radius, 0, math.rad(180), false)\n            //     context.closePath()\n            //     context.stroke()\n            //     context.fill()\n            // }\n        // }\n    }\n\n    toggleVisible() { this.showPointer = !this.showPointer }\n}\n\nexport default MousePointer","// input keys\nclass Key {\n    constructor(name=\"unknown key\") {\n        this.name = name\n        this.pressed = false\n    }\n}\n\nconst inputManager = {\n    inputKeys: [\n        new Key(\"ArrowUp\"),\n        new Key(\"ArrowDown\"),\n        new Key(\"ArrowRight\"),\n        new Key(\"ArrowLeft\"),\n        new Key(\" \")\n    ]\n}\n\nexport default inputManager","import Dimensions from \"./misc scripts/dimensions.js\"\n\n// helper class\nclass state {\n    constructor(name, state) {\n        this.name   = name\n        this.state  = state\n    }\n}\n\n// Asteroids Game States\nclass Scene {\n    // here, scene is to be the base object for all states \n    // (all states must have a scene to work with)\n    constructor() {\n        this.backgroundImage = new Image(\n            \"../assets/stars.png\", \n            \"background image\", \n            new Dimensions(0,0),\n            true)\n    }\n\n\n    update() {\n        this.display()\n    }\n\n    display() {\n        this.drawBackground()\n    }\n\n    drawBackground() {\n        if (draw.drawImages)\n            this.backgroundImage.display()\n        else draw.fillBackground()\n    }\n}\n\n\nclass Resume extends Scene {\n\n}\n\nclass Pause extends Scene {\n    \n}\n\nclass MainMenu extends Scene {\n\n}\n\nclass SettingsState  extends Scene {\n\n}\n\n\n// state manager module\nconst stateManager = {\n    currentState : 2,\n    get state() { return this.states[this.currentState] },\n    states : [\n        new state(\"resume\",         new Resume()),\n        new state(\"pause\",          new Pause()),\n        new state(\"main menu\",      new MainMenu()),\n        new state(\"settings menu\",  new SettingsState())\n    ]\n}\n\nexport default stateManager\n","import draw         from \"./draw.js\"\nimport Ship         from \"../gameobject scripts/ship.js\"\nimport Rock         from \"../gameobject scripts/rock.js\"\nimport MousePointer from \"../gameobject scripts/mousePointer.js\"\nimport Image        from \"./misc scripts/image.js\"\nimport Dimensions   from \"./misc scripts/dimensions.js\"\nimport debug        from \"./misc scripts/debug.js\"\nimport time         from \"./misc scripts/time.js\"\nimport Point        from \"./misc scripts/point.js\"\nimport { FIRING_RATE } from \"../gameobject scripts/laser.js\"\nimport inputManager from \"./inputManager.js\"\nimport stateManager from \"./stateManager.js\"\nconst canvas = document.querySelector(\"canvas\")\n\n// Asteroids Game\nclass Game {\n    constructor() {\n        console.log(\"Game constructor called.\")\n\n        // game objects\n        this.ship           = new Ship()\n        this.lasers         = []\n        this.rocks          = []\n        this.asteroidBelt(5)\n        this.mousePointer   = new MousePointer()\n    }\n\n    /*********\n     * UPDATE\n     *********/\n    update() {\n        draw.point(new Point(10, 10))\n        time.tick()\n        // stateManager.states[2].update()\n        draw.fillBackground()\n        this.mousePointer.update()\n        this.ship.update()\n        this.rocks.forEach((rock) => rock.update())\n        this.updateLasers()\n        this.handleInput()\n        this.wrapObjects()\n        this.handleLaserDelayTimer()\n    }\n\n    /***************\n     * HANDLE INPUT\n     ***************/\n    handleInput() {\n        var key = \"\"\n        for (var i in inputManager.inputKeys) {\n            key = inputManager.inputKeys[i]\n            switch(key.name) {\n                case ' ':\n                    // fire on ' ' (space)\n                    if (key.pressed)\n                        if (this.laserDelayTimer <= 0.0) {\n                            debug.log(this.laserDelayTimer)\n                            this.lasers.push(this.ship.fire())\n                            this.laserDelayTimer = 1 / FIRING_RATE\n                        }\n\n                    break\n                case \"ArrowUp\":\n                    // accelerate on 'up' arrow key\n                    if (key.pressed)\n                        this.ship.thrust = true\n                    else this.ship.thrust = false\n                    break\n                case \"ArrowDown\":\n                    if (key.pressed)\n                        this.ship.brake = true\n                    else this.ship.brake = false\n                    break\n                case \"ArrowLeft\":\n                    if (key.pressed) this.ship.rotateLeft()\n                    break\n                case \"ArrowRight\":\n                    if (key.pressed) this.ship.rotateRight()\n                    break\n            }\n        }\n    }\n\n    /***\n     * FIRE\n     */\n    handleLaserDelayTimer() {\n        if (this.laserDelayTimer > 0.0)\n            this.laserDelayTimer -= time.deltaTime\n    }\n    laserDelayTimer = 0.0\n\n    /**\n     * WRAP\n     */\n    wrapObjects() {\n        this.wrap(this.ship)\n        this.lasers.forEach((laser) => this.wrap(laser))\n        this.rocks.forEach((rock)   => this.wrap(rock))\n    }\n\n    wrap(projectile) {\n        var buffer = projectile.radius * 1\n        if      (projectile.p.x < buffer) { projectile.p.x = canvas.width - buffer; return true }\n        else if (projectile.p.x > canvas.width - buffer) { projectile.p.x = buffer; return true }\n\n        if      (projectile.p.y < buffer) { projectile.p.y = canvas.height - buffer; return true }\n        else if (projectile.p.y > canvas.height - buffer) { projectile.p.y = buffer; return true }\n\n        return false\n    }\n\n    /**\n     * LASERS\n     */\n    updateLasers() {\n        for (var i = 0; i < this.lasers.length; i++)\n            this.lasers[i].update()\n        for (var i = 0; i < this.lasers.length; i++) {\n            if (!this.lasers[i].alive) {\n                this.lasers.splice(i, 1)\n                break\n            }\n        }\n    }\n\n    /**\n     * ROCKS\n     */\n    asteroidBelt(n) {\n        for (var i = 0; i < n; i++) {\n            this.rocks.push(new Rock())\n        }\n    }\n\n    /**\n     * MOUSE POINTER\n     */\n    updateMousePosition(point) {\n        this.mousePointer.p = point\n    }\n}\n\nexport default Game\n","// import\nimport debug from \"./misc scripts/debug.js\"\nimport Point from \"./misc scripts/point.js\"\nconst canvas = document.querySelector(\"canvas\")\n\n// define\nvar mousePosition = new Point()\nconst FPS = 60\nexport default FPS\n\n/************\n * GAME LOOP\n ************/\nimport Game from \"./asteroids.js\"\nimport draw from \"./draw.js\"\nvar asteroids = new Game()\nsetInterval(() => asteroids.update(), 1000 / FPS)\n\n\n/****************\n * INPUT MANAGER\n ****************/\nimport inputManager from \"./inputManager.js\"\n\n// keyboard input\ndocument.addEventListener(\"keydown\", keyDown)\n\n// key up (remove keys)\ndocument.addEventListener(\"keyup\", keyUp)\n\n// mouse click\ndocument.addEventListener(\"mousedown\", onClick)\n\n// mouse movement\ndocument.addEventListener(\"mousemove\", mouseMove)\n\n\n\nfunction keyDown(event) {\n    debug.log(\"keydown: \" + event.key)\n    \n    switch(event.key) {\n        case 'd':\n            debug.toggleDebug()\n            break\n        case 'D':\n            draw.toggleDarkMode()\n            break\n        case 'i':\n            draw.drawImages = !draw.drawImages\n            break\n        case 'r':\n            debug.display(\"Restarting game.\")\n            asteroids = new Game()\n            break\n        case ' ':\n        case 'ArrowUp':\n        case 'ArrowDown':\n        case 'ArrowLeft':\n        case 'ArrowRight':\n            for (var i in asteroids.inputKeys)\n                if (asteroids.inputKeys[i].name == event.key)\n                    asteroids.inputKeys[i].pressed = true\n                    debug.display(event.key)\n                    return\n    }\n}\n\nfunction keyUp(event) {\n    for (var i in asteroids.inputKeys) {\n        var key = asteroids.inputKeys[i]\n        if (key.name == event.key)\n            key.pressed = false\n    }\n}\n\nfunction onClick(event) {\n    debug.log(\"click\")\n    asteroids.mousePointer.toggleVisible()\n}\n\nfunction mouseMove(event) {\n    debug.log(\"Updating mouse position\", event.clientX, event.clientY)    \n    mousePosition.x = event.clientX - 41\n    mousePosition.y = event.clientY - 101\n    asteroids.updateMousePosition(mousePosition)\n}\n","var OVERLAY_ID = '__parcel__error__overlay__';\n\nvar OldModule = module.bundle.Module;\n\nfunction Module(moduleName) {\n  OldModule.call(this, moduleName);\n  this.hot = {\n    data: module.bundle.hotData,\n    _acceptCallbacks: [],\n    _disposeCallbacks: [],\n    accept: function (fn) {\n      this._acceptCallbacks.push(fn || function () {});\n    },\n    dispose: function (fn) {\n      this._disposeCallbacks.push(fn);\n    }\n  };\n\n  module.bundle.hotData = null;\n}\n\nmodule.bundle.Module = Module;\nvar checkedAssets, assetsToAccept;\n\nvar parent = module.bundle.parent;\nif ((!parent || !parent.isParcelRequire) && typeof WebSocket !== 'undefined') {\n  var hostname = process.env.HMR_HOSTNAME || location.hostname;\n  var protocol = location.protocol === 'https:' ? 'wss' : 'ws';\n  var ws = new WebSocket(protocol + '://' + hostname + ':' + process.env.HMR_PORT + '/');\n  ws.onmessage = function(event) {\n    checkedAssets = {};\n    assetsToAccept = [];\n\n    var data = JSON.parse(event.data);\n\n    if (data.type === 'update') {\n      var handled = false;\n      data.assets.forEach(function(asset) {\n        if (!asset.isNew) {\n          var didAccept = hmrAcceptCheck(global.parcelRequire, asset.id);\n          if (didAccept) {\n            handled = true;\n          }\n        }\n      });\n\n      // Enable HMR for CSS by default.\n      handled = handled || data.assets.every(function(asset) {\n        return asset.type === 'css' && asset.generated.js;\n      });\n\n      if (handled) {\n        console.clear();\n\n        data.assets.forEach(function (asset) {\n          hmrApply(global.parcelRequire, asset);\n        });\n\n        assetsToAccept.forEach(function (v) {\n          hmrAcceptRun(v[0], v[1]);\n        });\n      } else if (location.reload) { // `location` global exists in a web worker context but lacks `.reload()` function.\n        location.reload();\n      }\n    }\n\n    if (data.type === 'reload') {\n      ws.close();\n      ws.onclose = function () {\n        location.reload();\n      }\n    }\n\n    if (data.type === 'error-resolved') {\n      console.log('[parcel] ✨ Error resolved');\n\n      removeErrorOverlay();\n    }\n\n    if (data.type === 'error') {\n      console.error('[parcel] 🚨  ' + data.error.message + '\\n' + data.error.stack);\n\n      removeErrorOverlay();\n\n      var overlay = createErrorOverlay(data);\n      document.body.appendChild(overlay);\n    }\n  };\n}\n\nfunction removeErrorOverlay() {\n  var overlay = document.getElementById(OVERLAY_ID);\n  if (overlay) {\n    overlay.remove();\n  }\n}\n\nfunction createErrorOverlay(data) {\n  var overlay = document.createElement('div');\n  overlay.id = OVERLAY_ID;\n\n  // html encode message and stack trace\n  var message = document.createElement('div');\n  var stackTrace = document.createElement('pre');\n  message.innerText = data.error.message;\n  stackTrace.innerText = data.error.stack;\n\n  overlay.innerHTML = (\n    '<div style=\"background: black; font-size: 16px; color: white; position: fixed; height: 100%; width: 100%; top: 0px; left: 0px; padding: 30px; opacity: 0.85; font-family: Menlo, Consolas, monospace; z-index: 9999;\">' +\n      '<span style=\"background: red; padding: 2px 4px; border-radius: 2px;\">ERROR</span>' +\n      '<span style=\"top: 2px; margin-left: 5px; position: relative;\">🚨</span>' +\n      '<div style=\"font-size: 18px; font-weight: bold; margin-top: 20px;\">' + message.innerHTML + '</div>' +\n      '<pre>' + stackTrace.innerHTML + '</pre>' +\n    '</div>'\n  );\n\n  return overlay;\n\n}\n\nfunction getParents(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return [];\n  }\n\n  var parents = [];\n  var k, d, dep;\n\n  for (k in modules) {\n    for (d in modules[k][1]) {\n      dep = modules[k][1][d];\n      if (dep === id || (Array.isArray(dep) && dep[dep.length - 1] === id)) {\n        parents.push(k);\n      }\n    }\n  }\n\n  if (bundle.parent) {\n    parents = parents.concat(getParents(bundle.parent, id));\n  }\n\n  return parents;\n}\n\nfunction hmrApply(bundle, asset) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (modules[asset.id] || !bundle.parent) {\n    var fn = new Function('require', 'module', 'exports', asset.generated.js);\n    asset.isNew = !modules[asset.id];\n    modules[asset.id] = [fn, asset.deps];\n  } else if (bundle.parent) {\n    hmrApply(bundle.parent, asset);\n  }\n}\n\nfunction hmrAcceptCheck(bundle, id) {\n  var modules = bundle.modules;\n  if (!modules) {\n    return;\n  }\n\n  if (!modules[id] && bundle.parent) {\n    return hmrAcceptCheck(bundle.parent, id);\n  }\n\n  if (checkedAssets[id]) {\n    return;\n  }\n  checkedAssets[id] = true;\n\n  var cached = bundle.cache[id];\n\n  assetsToAccept.push([bundle, id]);\n\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    return true;\n  }\n\n  return getParents(global.parcelRequire, id).some(function (id) {\n    return hmrAcceptCheck(global.parcelRequire, id)\n  });\n}\n\nfunction hmrAcceptRun(bundle, id) {\n  var cached = bundle.cache[id];\n  bundle.hotData = {};\n  if (cached) {\n    cached.hot.data = bundle.hotData;\n  }\n\n  if (cached && cached.hot && cached.hot._disposeCallbacks.length) {\n    cached.hot._disposeCallbacks.forEach(function (cb) {\n      cb(bundle.hotData);\n    });\n  }\n\n  delete bundle.cache[id];\n  bundle(id);\n\n  cached = bundle.cache[id];\n  if (cached && cached.hot && cached.hot._acceptCallbacks.length) {\n    cached.hot._acceptCallbacks.forEach(function (cb) {\n      cb();\n    });\n    return true;\n  }\n}\n"]}